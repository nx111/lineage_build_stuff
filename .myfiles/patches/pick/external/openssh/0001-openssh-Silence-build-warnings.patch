From 729a90637113546fcbb529b815f704bc9f67b8f7 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Mon, 25 Feb 2019 19:33:02 +0200
Subject: [PATCH] openssh: Silence build warnings

Change-Id: Ibfa5b2257961d7ba1b51413f13aa9a301a014fc1
---
 Android.mk | 22 +++++++++++++++++-----
 1 file changed, 17 insertions(+), 5 deletions(-)

diff --git a/Android.mk b/Android.mk
index f264ebee..98ac9b13 100644
--- a/Android.mk
+++ b/Android.mk
@@ -125,7 +125,12 @@ LOCAL_SHARED_LIBRARIES += libssl libcrypto libdl libz
 
 LOCAL_MODULE := libssh
 
-LOCAL_CFLAGS += -O3 -Wno-unused-parameter -Wno-macro-redefined
+LOCAL_CFLAGS += \
+    -O3 \
+    -Wno-macro-redefined \
+    -Wno-pointer-sign \
+    -Wno-sign-compare \
+    -Wno-unused-parameter
 
 LOCAL_CFLAGS += -DGCE_PLATFORM_SDK_VERSION=$(PLATFORM_SDK_VERSION)
 ifneq ($(filter gce_x86 calypso, $(TARGET_DEVICE)),)
@@ -136,8 +141,6 @@ ifneq (,$(SSHDIR))
 LOCAL_CFLAGS += -DSSHDIR=\"$(SSHDIR)\"
 endif
 
-LOCAL_CFLAGS += -Wno-sign-compare -Wno-error
-
 include $(BUILD_SHARED_LIBRARY)
 
 ###################### ssh ######################
@@ -158,7 +161,11 @@ LOCAL_SRC_FILES := \
 
 LOCAL_MODULE := ssh
 
-LOCAL_CFLAGS += -Wno-unused-parameter -Wno-macro-redefined -Wno-error
+LOCAL_CFLAGS += \
+    -Wno-macro-redefined \
+    -Wno-pointer-sign \
+    -Wno-sign-compare \
+    -Wno-unused-parameter
 
 LOCAL_C_INCLUDES := \
     external/zlib \
@@ -265,7 +272,12 @@ LOCAL_SRC_FILES := \
 
 LOCAL_MODULE := sshd
 
-LOCAL_CFLAGS += -Wno-error -Wno-unused-parameter -Wno-macro-redefined
+LOCAL_CFLAGS += \
+    -Wno-implicit-function-declaration \
+    -Wno-macro-redefined \
+    -Wno-pointer-sign \
+    -Wno-unused-parameter \
+    -Wno-unused-variable
 
 LOCAL_C_INCLUDES := \
     external/zlib \
-- 
2.17.1

