From 277c3286878ecbd96d169bb7ebf50f70595ddcf8 Mon Sep 17 00:00:00 2001
From: tufteddeer <tufteddeer@protonmail.com>
Date: Mon, 6 May 2019 17:20:09 +0200
Subject: [PATCH 1/2] fix creating new playlist from "add to playlist"

(was broken by 76f3764)

Change-Id: I539f0fb8a484970dd7d22b6b4152fafaa91b0229
---
 src/org/lineageos/eleven/utils/MusicUtils.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/org/lineageos/eleven/utils/MusicUtils.java b/src/org/lineageos/eleven/utils/MusicUtils.java
index 92f9a44..4d69cb2 100644
--- a/src/org/lineageos/eleven/utils/MusicUtils.java
+++ b/src/org/lineageos/eleven/utils/MusicUtils.java
@@ -1427,7 +1427,6 @@ public final class MusicUtils {
      */
     public static List<String> makePlaylist(final Context context) {
         final List<String> menuItemMap = new ArrayList<>();
-        menuItemMap.add(context.getString(R.string.new_playlist));
 
         try (final Cursor cursor = PlaylistLoader.makePlaylistCursor(context)) {
             if (cursor != null && cursor.getCount() > 0 && cursor.moveToFirst()) {
@@ -1443,6 +1442,9 @@ public final class MusicUtils {
 
         // sort the list but ignore case
         Collections.sort(menuItemMap, new IgnoreCaseComparator());
+        // add new_playlist to the top of the sorted list
+        menuItemMap.add(0, context.getString(R.string.new_playlist));
+
         return menuItemMap;
     }
 
-- 
2.17.1

