From 737407a53d982e672c307b2e3bf7f6f77daf496d Mon Sep 17 00:00:00 2001
From: Rashed Abdel-Tawab <rashed@linux.com>
Date: Wed, 22 May 2019 14:52:48 -0700
Subject: [PATCH 1/3] livedisplay: Don't show display mode and color
 tempertature on HWC2

Change-Id: Ib60e11bdb79a233c961d00c0968922264c042011
---
 .../lineageparts/livedisplay/LiveDisplaySettings.java        | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/org/lineageos/lineageparts/livedisplay/LiveDisplaySettings.java b/src/org/lineageos/lineageparts/livedisplay/LiveDisplaySettings.java
index 5252164..7205a51 100644
--- a/src/org/lineageos/lineageparts/livedisplay/LiveDisplaySettings.java
+++ b/src/org/lineageos/lineageparts/livedisplay/LiveDisplaySettings.java
@@ -28,6 +28,7 @@ import android.text.TextUtils;
 import android.util.ArraySet;
 import android.util.Log;
 
+import com.android.internal.app.ColorDisplayController;
 import com.android.internal.util.ArrayUtils;
 
 import org.lineageos.lineageparts.R;
@@ -170,6 +171,10 @@ public class LiveDisplaySettings extends SettingsPreferenceFragment implements S
         mLiveDisplay.setOnPreferenceChangeListener(this);
 
         mDisplayTemperature = (DisplayTemperature) findPreference(KEY_LIVE_DISPLAY_TEMPERATURE);
+        if (ColorDisplayController.isAvailable(getContext())) {
+            liveDisplayPrefs.removePreference(mLiveDisplay);
+            liveDisplayPrefs.removePreference(mDisplayTemperature);
+        }
 
         mColorProfile = (ListPreference) findPreference(KEY_LIVE_DISPLAY_COLOR_PROFILE);
         if (liveDisplayPrefs != null && mColorProfile != null
-- 
2.17.1

