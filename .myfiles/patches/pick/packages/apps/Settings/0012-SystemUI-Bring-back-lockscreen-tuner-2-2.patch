From a6a8d97f14a580ebed46743ab95c035524780bc4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?eray=20or=C3=A7unus?= <erayorcunus@gmail.com>
Date: Fri, 22 Mar 2019 02:34:07 +0300
Subject: [PATCH 12/17] SystemUI: Bring back lockscreen tuner (2/2)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

* Enables us to change lockscreen shortcuts, but they will be disabled as default.
  (Leaving SystemUI/config.xml as it is makes this possible.)
* It will be located under Settings > Security & Location > Lock screen preferences

Change-Id: I2c5fe80d1d25c9b20376331ebdad850bdb640eb2
Signed-off-by: eray or√ßunus <erayorcunus@gmail.com>

# Conflicts:
#	res/values/cm_strings.xml
---
 res/values/cm_strings.xml                | 3 +++
 res/xml/security_lockscreen_settings.xml | 6 ++++++
 2 files changed, 9 insertions(+)

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 5f1abf7665..510006cbf7 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -378,4 +378,7 @@
     <!-- Automatically dismiss lockscreen after face unlock -->
     <string name="face_auto_unlock_title">Face auto unlock</string>
     <string name="face_auto_unlock_summary">Dismiss lockscreen after face unlocking</string>
+
+    <!-- Jump to lockscreen tuner to let user change lockscreen shortcuts -->
+    <string name="open_lockscreen_tuner">Change shortcuts</string>
 </resources>
diff --git a/res/xml/security_lockscreen_settings.xml b/res/xml/security_lockscreen_settings.xml
index fa2b818cd1..81c94886a3 100644
--- a/res/xml/security_lockscreen_settings.xml
+++ b/res/xml/security_lockscreen_settings.xml
@@ -56,6 +56,12 @@
         android:summary="@string/lockdown_settings_summary"
         settings:controller="com.android.settings.security.LockdownButtonPreferenceController"/>
 
+    <PreferenceScreen
+        android:key="lockscreen_tuner"
+        android:title="@string/open_lockscreen_tuner">
+        <intent android:action="com.android.settings.action.LOCK_SCREEN_TUNER" />
+    </PreferenceScreen>
+
     <!-- Work profile settings are at the bottom with high order value to avoid users thinking that
          any of the above settings (including dynamic) are specific to the work profile. -->
     <PreferenceCategory
-- 
2.17.1

