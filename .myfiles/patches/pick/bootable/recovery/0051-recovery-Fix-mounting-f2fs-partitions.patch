From 37d869e7fbe5060d7014fa62984f52010c0b2275 Mon Sep 17 00:00:00 2001
From: Tom Marshall <tdm@cyngn.com>
Date: Tue, 1 Dec 2015 11:45:37 -0800
Subject: [PATCH 51/62] recovery: Fix mounting f2fs partitions

Change-Id: I9d94b611ab9a873b6b57a6d22bf78de131e3c8e5
---
 roots.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/roots.cpp b/roots.cpp
index d721d58b..c0a92fc9 100644
--- a/roots.cpp
+++ b/roots.cpp
@@ -208,7 +208,7 @@ int ensure_path_mounted_at(const char* path, const char* mount_point) {
   fs_mkdirs(mount_point, 0755);  // in case it doesn't already exist
 
   if (strcmp(v->fs_type, "ext4") == 0 || strcmp(v->fs_type, "squashfs") == 0 ||
-      strcmp(v->fs_type, "vfat") == 0) {
+      strcmp(v->fs_type, "vfat") == 0 || strcmp(v->fs_type, "f2fs") == 0) {
     int result = mount(v->blk_device, mount_point, v->fs_type, v->flags, v->fs_options);
     if (result == -1) {
       PLOG(ERROR) << "Failed to mount " << mount_point;
-- 
2.17.1

