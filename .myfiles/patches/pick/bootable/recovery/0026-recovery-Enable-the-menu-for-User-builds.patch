From aee7326d66d9378076dd64b8647c6a15e7c2a55b Mon Sep 17 00:00:00 2001
From: Pat Erley <perley@cyngn.com>
Date: Tue, 5 Jan 2016 16:50:02 -0800
Subject: [PATCH 26/44] recovery: Enable the menu for User builds

Upstream recovery doesn't provide a menu for non ENG/UserDebug
builds.

OPO-321
Change-Id: I01b285a40287be4147d15a70b91ad17a3c93da68
---
 recovery.cpp | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

diff --git a/recovery.cpp b/recovery.cpp
index 33894a9b..aab77426 100644
--- a/recovery.cpp
+++ b/recovery.cpp
@@ -1914,12 +1914,10 @@ int main(int argc, char **argv) {
       ui->Print("Rebooting automatically.\n");
     }
   } else if (!just_exit) {
-    // If this is an eng or userdebug build, automatically turn on the text display if no command
-    // is specified. Note that this should be called before setting the background to avoid
+    // Always show menu if no command is specified.
+    // Note that this should be called before setting the background to avoid
     // flickering the background image.
-    if (is_ro_debuggable()) {
-      ui->ShowText(true);
-    }
+    ui->ShowText(true);
     status = INSTALL_NONE;  // No command specified
     ui->SetBackground(RecoveryUI::NO_COMMAND);
   }
-- 
2.17.1

