From 2b94313f31ad40aefdbfc12c195f51303663937c Mon Sep 17 00:00:00 2001
From: Tim Schumacher <timschumi@gmx.de>
Date: Thu, 2 May 2019 19:48:39 +0200
Subject: [PATCH 33/41] RotationPolicy: Don't crash if configstore 1.1 isn't
 available

Change-Id: I77301ec8c72393daa0003ca310eee07b767d4e69
---
 core/java/com/android/internal/view/RotationPolicy.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/core/java/com/android/internal/view/RotationPolicy.java b/core/java/com/android/internal/view/RotationPolicy.java
index cc3ca3a50f9..871aae0d824 100644
--- a/core/java/com/android/internal/view/RotationPolicy.java
+++ b/core/java/com/android/internal/view/RotationPolicy.java
@@ -38,6 +38,8 @@ import android.view.WindowManagerGlobal;
 
 import com.android.internal.R;
 
+import java.util.NoSuchElementException;
+
 /**
  * Provides helper functions for configuring the display rotation policy.
  */
@@ -240,7 +242,7 @@ public final class RotationPolicy {
                 case DisplayOrientation.ORIENTATION_270:
                     return Surface.ROTATION_270;
             }
-        } catch (RemoteException e) {
+        } catch (RemoteException | NoSuchElementException e) {
             // do nothing
         }
 
-- 
2.17.1

