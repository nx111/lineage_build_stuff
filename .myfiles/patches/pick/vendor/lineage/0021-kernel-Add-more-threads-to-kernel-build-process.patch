From 7bd15b69d28daf41cd1a3f504a42579dcf3305f4 Mon Sep 17 00:00:00 2001
From: Ethan Chen <intervigil@gmail.com>
Date: Sat, 9 Feb 2019 14:59:56 -0800
Subject: [PATCH 21/30] kernel: Add more threads to kernel build process

Change-Id: I9c90de7820308542c7bb15605df519976dd04e0b
---
 config/BoardConfigKernel.mk | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/config/BoardConfigKernel.mk b/config/BoardConfigKernel.mk
index 74f3413b..e16c47e4 100644
--- a/config/BoardConfigKernel.mk
+++ b/config/BoardConfigKernel.mk
@@ -95,6 +95,9 @@ endif
 # Clear this first to prevent accidental poisoning from env
 KERNEL_MAKE_FLAGS :=
 
+# Add back threads, ninja cuts this to $(nproc)/2
+KERNEL_MAKE_FLAGS += -j$$(nproc)
+
 ifeq ($(KERNEL_ARCH),arm)
   # Avoid "Unknown symbol _GLOBAL_OFFSET_TABLE_" errors
   KERNEL_MAKE_FLAGS += CFLAGS_MODULE="-fno-pic"
-- 
2.17.1

