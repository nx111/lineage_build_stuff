From 910506a43cb6e20401e2f43e495e1d16aaf953bf Mon Sep 17 00:00:00 2001
From: Paul Keith <javelinanddart@gmail.com>
Date: Thu, 7 Feb 2019 15:59:15 -0600
Subject: [PATCH 30/30] lineage: Add org.lineageos.hwc2 feature

Change-Id: I339cdb09bfeb4606c213c0008ba2744c6be9e6a2
---
 config/lineage_sdk_common.mk              |  1 +
 config/permissions/org.lineageos.hwc2.xml | 23 +++++++++++++++++++++++
 2 files changed, 24 insertions(+)
 create mode 100644 config/permissions/org.lineageos.hwc2.xml

diff --git a/config/lineage_sdk_common.mk b/config/lineage_sdk_common.mk
index cce8d931..0f6ee546 100644
--- a/config/lineage_sdk_common.mk
+++ b/config/lineage_sdk_common.mk
@@ -2,6 +2,7 @@
 PRODUCT_COPY_FILES += \
     vendor/lineage/config/permissions/org.lineageos.audio.xml:system/etc/permissions/org.lineageos.audio.xml \
     vendor/lineage/config/permissions/org.lineageos.livedisplay.xml:system/etc/permissions/org.lineageos.livedisplay.xml \
+    vendor/lineage/config/permissions/org.lineageos.hwc2.xml:system/etc/permissions/org.lineageos.hwc2.xml \
     vendor/lineage/config/permissions/org.lineageos.performance.xml:system/etc/permissions/org.lineageos.performance.xml \
     vendor/lineage/config/permissions/org.lineageos.profiles.xml:system/etc/permissions/org.lineageos.profiles.xml \
     vendor/lineage/config/permissions/org.lineageos.settings.xml:system/etc/permissions/org.lineageos.settings.xml \
diff --git a/config/permissions/org.lineageos.hwc2.xml b/config/permissions/org.lineageos.hwc2.xml
new file mode 100644
index 00000000..40e1e10f
--- /dev/null
+++ b/config/permissions/org.lineageos.hwc2.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2019 The LineageOS Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+<permissions>
+    <!-- The feature listed here coincides with the LineageHWC2Service declared as
+        part of the external lineage service init in SystemServer. If this xml isn't present
+        on the device, the service will not be published as a binder service!
+    -->
+    <feature name="org.lineageos.hwc2" />
+</permissions>
-- 
2.17.1

