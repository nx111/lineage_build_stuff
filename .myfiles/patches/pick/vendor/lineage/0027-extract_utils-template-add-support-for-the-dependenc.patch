From e721630dd54f5b71e3b9ca9f25d82d67fabe7f2c Mon Sep 17 00:00:00 2001
From: Vladimir Oltean <olteanv@gmail.com>
Date: Sat, 19 Jan 2019 18:32:25 +0200
Subject: [PATCH 27/37] extract_utils: template: add support for the dependency
 graph function

Change-Id: I433c3521fb81a22b23f1c59a9bfaa7d00187f282
Signed-off-by: Vladimir Oltean <olteanv@gmail.com>
---
 build/templates/extract-files.sh | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/build/templates/extract-files.sh b/build/templates/extract-files.sh
index fede6709..a461ddfc 100755
--- a/build/templates/extract-files.sh
+++ b/build/templates/extract-files.sh
@@ -37,12 +37,15 @@ source "${HELPER}"
 # Default to sanitizing the vendor folder before extraction
 CLEAN_VENDOR=true
 SECTION=
+GRAPH=
 KANG=
 
 while [ "$1" != "" ]; do
     case "$1" in
         -n | --no-cleanup )     CLEAN_VENDOR=false
                                 ;;
+        -g | --graph)           GRAPH="--graph"
+                                ;;
         -k | --kang)            KANG="--kang"
                                 ;;
         -s | --section )        shift
@@ -62,6 +65,6 @@ fi
 # Initialize the helper
 setup_vendor "${DEVICE}" "${VENDOR}" "${LINEAGE_ROOT}" false "${CLEAN_VENDOR}"
 
-extract "${MY_DIR}/proprietary-files.txt" "${SRC}" ${KANG} --section "${SECTION}"
+extract "${MY_DIR}/proprietary-files.txt" "${SRC}" ${GRAPH} ${KANG} --section "${SECTION}"
 
 "${MY_DIR}/setup-makefiles.sh"
-- 
2.17.1

