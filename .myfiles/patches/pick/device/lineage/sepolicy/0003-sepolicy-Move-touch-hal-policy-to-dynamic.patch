From f2734fda86ac6889b56df3cc815851dae118f753 Mon Sep 17 00:00:00 2001
From: dianlujitao <dianlujitao@lineageos.org>
Date: Thu, 14 Feb 2019 14:14:24 +0800
Subject: [PATCH 3/9] sepolicy: Move touch hal policy to dynamic

Change-Id: I7beb51197b6049133b4385ef344e21fbf2de1ea0
---
 common/{public => dynamic}/hal_lineage_touch.te | 0
 common/dynamic/hwservice.te                     | 1 +
 common/dynamic/hwservice_contexts               | 4 ++++
 common/private/hwservice_contexts               | 4 ----
 common/public/hwservice.te                      | 1 -
 5 files changed, 5 insertions(+), 5 deletions(-)
 rename common/{public => dynamic}/hal_lineage_touch.te (100%)
 delete mode 100644 common/public/hwservice.te

diff --git a/common/public/hal_lineage_touch.te b/common/dynamic/hal_lineage_touch.te
similarity index 100%
rename from common/public/hal_lineage_touch.te
rename to common/dynamic/hal_lineage_touch.te
diff --git a/common/dynamic/hwservice.te b/common/dynamic/hwservice.te
index e5b0751..62a4f87 100644
--- a/common/dynamic/hwservice.te
+++ b/common/dynamic/hwservice.te
@@ -1,2 +1,3 @@
 type hal_lineage_livedisplay_hwservice, hwservice_manager_type;
+type hal_lineage_touch_hwservice, hwservice_manager_type;
 type hal_lineage_trust_hwservice, hwservice_manager_type;
diff --git a/common/dynamic/hwservice_contexts b/common/dynamic/hwservice_contexts
index 04e639f..d5e1984 100644
--- a/common/dynamic/hwservice_contexts
+++ b/common/dynamic/hwservice_contexts
@@ -7,4 +7,8 @@ vendor.lineage.livedisplay::IDisplayModes            u:object_r:hal_lineage_live
 vendor.lineage.livedisplay::IPictureAdjustment       u:object_r:hal_lineage_livedisplay_hwservice:s0
 vendor.lineage.livedisplay::IReadingEnhancement      u:object_r:hal_lineage_livedisplay_hwservice:s0
 vendor.lineage.livedisplay::ISunlightEnhancement     u:object_r:hal_lineage_livedisplay_hwservice:s0
+vendor.lineage.touch::IGloveMode                     u:object_r:hal_lineage_touch_hwservice:s0
+vendor.lineage.touch::IKeyDisabler                   u:object_r:hal_lineage_touch_hwservice:s0
+vendor.lineage.touch::IStylusMode                    u:object_r:hal_lineage_touch_hwservice:s0
+vendor.lineage.touch::ITouchscreenGesture            u:object_r:hal_lineage_touch_hwservice:s0
 vendor.lineage.trust::IUsbRestrict                   u:object_r:hal_lineage_trust_hwservice:s0
diff --git a/common/private/hwservice_contexts b/common/private/hwservice_contexts
index b79ed80..82766ae 100644
--- a/common/private/hwservice_contexts
+++ b/common/private/hwservice_contexts
@@ -1,5 +1 @@
 vendor.lineage.power::ILineagePower                  u:object_r:hal_power_hwservice:s0
-vendor.lineage.touch::IGloveMode                     u:object_r:hal_lineage_touch_hwservice:s0
-vendor.lineage.touch::IKeyDisabler                   u:object_r:hal_lineage_touch_hwservice:s0
-vendor.lineage.touch::IStylusMode                    u:object_r:hal_lineage_touch_hwservice:s0
-vendor.lineage.touch::ITouchscreenGesture            u:object_r:hal_lineage_touch_hwservice:s0
diff --git a/common/public/hwservice.te b/common/public/hwservice.te
deleted file mode 100644
index afee012..0000000
--- a/common/public/hwservice.te
+++ /dev/null
@@ -1 +0,0 @@
-type hal_lineage_touch_hwservice, hwservice_manager_type;
-- 
2.17.1

