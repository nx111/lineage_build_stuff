From 67e2d0a9782cf3abb769daf6c85c6a96c3dc4810 Mon Sep 17 00:00:00 2001
From: Michael Bestas <mkbestas@lineageos.org>
Date: Tue, 7 May 2019 02:03:53 +0300
Subject: [PATCH 09/10] qcom: Extend untrusted_app access to battery/power
 supply sysfs

* This makes apps like AccuBattery work again

Change-Id: Idc6c2d5a938a9dd22343f6ee167c0f18a79a2329
---
 qcom/common/untrusted_app_all.te | 3 +++
 1 file changed, 3 insertions(+)
 create mode 100644 qcom/common/untrusted_app_all.te

diff --git a/qcom/common/untrusted_app_all.te b/qcom/common/untrusted_app_all.te
new file mode 100644
index 0000000..b7e6532
--- /dev/null
+++ b/qcom/common/untrusted_app_all.te
@@ -0,0 +1,3 @@
+# allow apps to read battery status
+r_dir_file(untrusted_app_all, sysfs_battery_supply)
+r_dir_file(untrusted_app_all, sysfs_usb_supply)
-- 
2.17.1

