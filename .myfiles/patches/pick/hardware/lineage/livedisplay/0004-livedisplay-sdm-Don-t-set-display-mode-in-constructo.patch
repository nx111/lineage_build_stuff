From 3336e719b0988dcf73dfc3e3156130118bbc00f3 Mon Sep 17 00:00:00 2001
From: dianlujitao <dianlujitao@lineageos.org>
Date: Mon, 4 Feb 2019 10:29:48 +0800
Subject: [PATCH 4/5] livedisplay: sdm: Don't set display mode in constructor

 * Automatically done by QDCM

Change-Id: I888f979ec4434083f597b07c6946b72f252d1e38
---
 sdm/DisplayModes.cpp | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

diff --git a/sdm/DisplayModes.cpp b/sdm/DisplayModes.cpp
index d220886..1ab2692 100644
--- a/sdm/DisplayModes.cpp
+++ b/sdm/DisplayModes.cpp
@@ -28,14 +28,7 @@ namespace V2_0 {
 namespace sdm {
 
 DisplayModes::DisplayModes(std::shared_ptr<SDMController> controller, uint64_t cookie)
-    : mController(std::move(controller)), mCookie(cookie) {
-    if (isSupported()) {
-        DisplayMode mode = getDefaultDisplayModeInternal();
-        if (mode.id > 0) {
-            setDisplayMode(mode.id, false);
-        }
-    }
-}
+    : mController(std::move(controller)), mCookie(cookie) {}
 
 bool DisplayModes::isSupported() {
     sdm_feature_version version{};
-- 
2.17.1

