From ec058c9fd9a636d291e191fedbb6bb72a713b0c7 Mon Sep 17 00:00:00 2001
From: nx111 <NX111.AimH@gmail.com>
Date: Sun, 14 Apr 2019 12:40:48 +0800
Subject: [PATCH 33/41] systemui: fix change 244644: Bring back lockscreen
 tuner (1/2)

Change-Id: Ic4e986866cd8172fddfde3e7726aa3195d8d41d9
---
 .../src/com/android/systemui/tuner/LockscreenFragment.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/packages/SystemUI/src/com/android/systemui/tuner/LockscreenFragment.java b/packages/SystemUI/src/com/android/systemui/tuner/LockscreenFragment.java
index 3f8057bcc34..f241cc681db 100644
--- a/packages/SystemUI/src/com/android/systemui/tuner/LockscreenFragment.java
+++ b/packages/SystemUI/src/com/android/systemui/tuner/LockscreenFragment.java
@@ -100,7 +100,7 @@ public class LockscreenFragment extends PreferenceFragment {
         Preference shortcut = findPreference(buttonSetting);
         SwitchPreference unlock = (SwitchPreference) findPreference(unlockKey);
         addTunable((k, v) -> {
-            boolean visible = v.contains("/") || v.contains("::");
+            boolean visible = (!TextUtils.isEmpty(v)) && (v.contains("/") || v.contains("::"));
             unlock.setVisible(visible);
             setSummary(shortcut, v);
         }, buttonSetting);
-- 
2.17.1

