From 3272c5b5e7af4df428569dfa4bbaa6ef279143e8 Mon Sep 17 00:00:00 2001
From: nx111 <NX111.AimH@gmail.com>
Date: Wed, 20 Feb 2019 22:03:17 +0800
Subject: [PATCH 6/7] msm8974-common: sepolicy: livedisplay hal policy has
 split into independent ones

Change-Id: Id1ca82848165989b0a10daf06a338bec89b7b32b
---
 sepolicy/common/file_contexts                                 | 2 +-
 ...ivedisplay_default.te => hal_lineage_livedisplay_sysfs.te} | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)
 rename sepolicy/common/{hal_lineage_livedisplay_default.te => hal_lineage_livedisplay_sysfs.te} (57%)

diff --git a/sepolicy/common/file_contexts b/sepolicy/common/file_contexts
index 743b880..38ef097 100644
--- a/sepolicy/common/file_contexts
+++ b/sepolicy/common/file_contexts
@@ -21,7 +21,7 @@
 # executeables
 /system/vendor/bin/macloader                            u:object_r:macloader_exec:s0
 /(vendor|system/vendor)/bin/hw/android\.hardware\.sensors@1\.0-service.samsung8974        u:object_r:hal_sensors_default_exec:s0
-/(vendor|system/vendor)/bin/hw/vendor\.lineage\.livedisplay@2\.0-service\.samsung-qcom    u:object_r:hal_lineage_livedisplay_default_exec:s0
+/(vendor|system/vendor)/bin/hw/vendor\.lineage\.livedisplay@2\.0-service-sysfs\.samsung-qcom    u:object_r:hal_lineage_livedisplay_sysfs_exec:s0
 /(vendor|system/vendor)/bin/hw/vendor\.lineage\.touch@1\.0-service\.samsung               u:object_r:hal_lineage_touch_default_exec:s0
 
 # firmware
diff --git a/sepolicy/common/hal_lineage_livedisplay_default.te b/sepolicy/common/hal_lineage_livedisplay_sysfs.te
similarity index 57%
rename from sepolicy/common/hal_lineage_livedisplay_default.te
rename to sepolicy/common/hal_lineage_livedisplay_sysfs.te
index 33843e4..e888a77 100644
--- a/sepolicy/common/hal_lineage_livedisplay_default.te
+++ b/sepolicy/common/hal_lineage_livedisplay_sysfs.te
@@ -1,9 +1,9 @@
-allow hal_lineage_livedisplay_default {
+allow hal_lineage_livedisplay_sysfs {
     sysfs_graphics
     sysfs_mdnie
 }:dir search;
 
-allow hal_lineage_livedisplay_default {
+allow hal_lineage_livedisplay_sysfs {
     sysfs_graphics
     sysfs_mdnie
 }:file rw_file_perms;
-- 
2.17.1

